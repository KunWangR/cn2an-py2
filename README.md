# cn2an-py2: Chinese Numerals To Arabic Numerals for python 2.7

ğŸ“¦ **`cn2an`** æ˜¯ä¸€ä¸ªå¿«é€Ÿè½¬åŒ– `ä¸­æ–‡æ•°å­—` å’Œ `é˜¿æ‹‰ä¼¯æ•°å­—` çš„å·¥å…·åŒ…ï¼

ğŸ”—[ç‚¹å‡»è®¿é—®  cn2an](https://github.com/Ailln/cn2an)

> ğŸˆ `v0.5.14 update`: fix [#42](https://github.com/Ailln/cn2an/issues/42)


## 1 å®‰è£…

> âš ï¸ æ³¨æ„ï¼š
> 1. æœ¬åœ°å®‰è£…ä»…æ”¯æŒ Python çš„ 2.7 ç‰ˆæœ¬ï¼Œå…¶ä»–ç‰ˆæœ¬æœªåšéªŒè¯ï¼›
> 2. py3ç‰ˆæœ¬è¯·æŸ¥çœ‹[cn2an](https://github.com/Ailln/cn2an)ï¼Œå°½å¯èƒ½ä½¿ç”¨ `cn2an` çš„æœ€æ–°ç‰ˆæœ¬ï¼›
> 3. å…¶ä»–è¯­è¨€ç”¨æˆ·å¯ä»¥è€ƒè™‘ä½¿ç”¨ [HTTP API](https://www.dovolopor.com/api/cn2an) ã€‚

### 1.1 ä»ä»£ç åº“å®‰è£…

```shell
git clone git@github.com:KunWangR/cn2an-py2.git
cd cn2an
pip install -r requirement.txt
python setup.py install
```

### 1.2 å¸¸è§é—®é¢˜

regexåŒ…å®‰è£…ï¼Œç‰¹åˆ«éœ€è¦æ³¨æ„åœ¨Linuxç³»ç»Ÿä¸‹å®‰è£…ï¼Œéœ€è¦å…ˆæ‰§è¡Œå¦‚ä¸‹æ“ä½œã€‚
```
yum install python-devel
yum install python2-regex
```

## 3 ä½¿ç”¨

```python
# åœ¨æ–‡ä»¶é¦–éƒ¨å¼•å…¥åŒ…
import cn2an

# æŸ¥çœ‹å½“å‰ç‰ˆæœ¬å·
print(cn2an.__version__)
# 0.5.14
```

### 3.1 `ä¸­æ–‡æ•°å­—` => `é˜¿æ‹‰ä¼¯æ•°å­—`

> æœ€å¤§æ”¯æŒåˆ° `10**16`ï¼Œå³ `åƒä¸‡äº¿`ï¼Œæœ€å°æ”¯æŒåˆ° `10**-16`ã€‚

```python
import cn2an

# åœ¨ strict æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰ä¸‹ï¼Œåªæœ‰ä¸¥æ ¼ç¬¦åˆæ•°å­—æ‹¼å†™çš„æ‰å¯ä»¥è¿›è¡Œè½¬åŒ–
output = cn2an.cn2an(u"ä¸€ç™¾äºŒåä¸‰")
# æˆ–è€…
output = cn2an.cn2an(u"ä¸€ç™¾äºŒåä¸‰", u"strict")
# output:
# 123

# åœ¨ normal æ¨¡å¼ä¸‹ï¼Œå¯ä»¥å°† ä¸€äºŒä¸‰ è¿›è¡Œè½¬åŒ–
output = cn2an.cn2an(u"ä¸€äºŒä¸‰", u"normal")
# output:
# 123

# åœ¨ smart æ¨¡å¼ä¸‹ï¼Œå¯ä»¥å°†æ··åˆæ‹¼å†™çš„ 1ç™¾23 è¿›è¡Œè½¬åŒ–
output = cn2an.cn2an(u"1ç™¾23", u"smart")
# output:
# 123

# ä»¥ä¸Šä¸‰ç§æ¨¡å¼å‡æ”¯æŒè´Ÿæ•°
output = cn2an.cn2an(u"è´Ÿä¸€ç™¾äºŒåä¸‰", u"strict")
# output:
# -123

# ä»¥ä¸Šä¸‰ç§æ¨¡å¼å‡æ”¯æŒå°æ•°
output = cn2an.cn2an(u"ä¸€ç‚¹äºŒä¸‰", u"strict")
# output:
# 1.23
```

### 3.2 `é˜¿æ‹‰ä¼¯æ•°å­—` => `ä¸­æ–‡æ•°å­—`

> æœ€å¤§æ”¯æŒåˆ°`10**16`ï¼Œå³`åƒä¸‡äº¿`ï¼Œæœ€å°æ”¯æŒåˆ° `10**-16`ã€‚

```python
import cn2an

# åœ¨ low æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰ä¸‹ï¼Œæ•°å­—è½¬åŒ–ä¸ºå°å†™çš„ä¸­æ–‡æ•°å­—
output = cn2an.an2cn(u"123")
# æˆ–è€…
output = cn2an.an2cn("123", u"low")
# output:
# ä¸€ç™¾äºŒåä¸‰

# åœ¨ up æ¨¡å¼ä¸‹ï¼Œæ•°å­—è½¬åŒ–ä¸ºå¤§å†™çš„ä¸­æ–‡æ•°å­—
output = cn2an.an2cn(u"123", u"up")
# output:
# å£¹ä½°è´°æ‹¾å

# åœ¨ rmb æ¨¡å¼ä¸‹ï¼Œæ•°å­—è½¬åŒ–ä¸ºäººæ°‘å¸ä¸“ç”¨çš„æè¿°
output = cn2an.an2cn(u"123", u"rmb")
# output:
# å£¹ä½°è´°æ‹¾åå…ƒæ•´

# ä»¥ä¸Šä¸‰ç§æ¨¡å¼å‡æ”¯æŒè´Ÿæ•°
output = cn2an.an2cn(u"-123", u"low")
# output:
# è´Ÿä¸€ç™¾äºŒåä¸‰

# ä»¥ä¸Šä¸‰ç§æ¨¡å¼å‡æ”¯æŒå°æ•°
output = cn2an.an2cn(u"1.23", u"low")
# output:
# ä¸€ç‚¹äºŒä¸‰
```

### 3.3 å¥å­è½¬åŒ–

> âš ï¸ï¼šè¯•éªŒæ€§åŠŸèƒ½ï¼Œå¯èƒ½ä¼šé€ æˆä¸ç¬¦åˆæœŸæœ›çš„è½¬åŒ–ã€‚

```python
import cn2an

# åœ¨ cn2an æ–¹æ³•ï¼ˆé»˜è®¤ï¼‰ä¸‹ï¼Œå¯ä»¥å°†å¥å­ä¸­çš„ä¸­æ–‡æ•°å­—è½¬æˆé˜¿æ‹‰ä¼¯æ•°å­—
output = cn2an.transform(u"å°ç‹æ¡äº†ä¸€ç™¾å—é’±")
# æˆ–è€…
output = cn2an.transform(u"å°ç‹æ¡äº†ä¸€ç™¾å—é’±", u"cn2an")
# output:
# u'\u5c0f\u738b\u6361\u4e86100\u5757\u94b1'
# å°ç‹æ¡äº†100å—é’±

# åœ¨ an2cn æ–¹æ³•ä¸‹ï¼Œå¯ä»¥å°†å¥å­ä¸­çš„ä¸­æ–‡æ•°å­—è½¬æˆé˜¿æ‹‰ä¼¯æ•°å­—
output = cn2an.transform(u"å°ç‹æ¡äº†100å—é’±", u"an2cn")
# output:
# u'\u5c0f\u738b\u6361\u4e86100\u5757\u94b1'
# å°ç‹æ¡äº†ä¸€ç™¾å—é’±


## æ”¯æŒæ—¥æœŸ
output = cn2an.transform(u"å°ç‹çš„ç”Ÿæ—¥æ˜¯äºŒé›¶é›¶ä¸€å¹´ä¸‰æœˆå››æ—¥", "cn2an")
# output:
# u'\u5c0f\u738b\u7684\u751f\u65e5\u662f2001\u5e743\u67084\u65e5'
# å°ç‹çš„ç”Ÿæ—¥æ˜¯2001å¹´3æœˆ4æ—¥

output = cn2an.transform(u"å°ç‹çš„ç”Ÿæ—¥æ˜¯2001å¹´3æœˆ4æ—¥", "an2cn")
# output:
# u'\u5c0f\u738b\u7684\u751f\u65e5\u662f\u4e8c\u96f6\u96f6\u4e00\u5e74\u4e09\u6708\u56db\u65e5'
# å°ç‹çš„ç”Ÿæ—¥æ˜¯äºŒé›¶é›¶ä¸€å¹´ä¸‰æœˆå››æ—¥

## æ”¯æŒåˆ†æ•°
output = cn2an.transform(u"æŠ›å‡ºå»çš„ç¡¬å¸ä¸ºæ­£é¢çš„æ¦‚ç‡æ˜¯äºŒåˆ†ä¹‹ä¸€", "cn2an")
# output:
# 
# æŠ›å‡ºå»çš„ç¡¬å¸ä¸ºæ­£é¢çš„æ¦‚ç‡æ˜¯1/2

output = cn2an.transform(u"æŠ›å‡ºå»çš„ç¡¬å¸ä¸ºæ­£é¢çš„æ¦‚ç‡æ˜¯1/2", "an2cn")
# output:
# u'\u629b\u51fa\u53bb\u7684\u786c\u5e01\u4e3a\u6b63\u9762\u7684\u6982\u7387\u662f\u4e8c\u5206\u4e4b\u4e00'
# æŠ›å‡ºå»çš„ç¡¬å¸ä¸ºæ­£é¢çš„æ¦‚ç‡æ˜¯äºŒåˆ†ä¹‹ä¸€
```
